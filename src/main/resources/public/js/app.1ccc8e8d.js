(function(){"use strict";var e={3639:function(e,n,t){var l=t(5130),a=(t(4114),t(8992),t(4520),t(2577),t(6768)),u=t(144),o=t(4232),i=(0,a.pM)({__name:"ConfirmDialog",setup(e,{expose:n}){const t=(0,u.KR)(""),l=(0,u.KR)(""),i=(0,u.KR)();async function r(e,n){return t.value=e,l.value=n,s.value=!0,await new Promise(((e,n)=>{i.value=e}))}function c(e){s.value=!1,void 0!==i.value&&i.value({accept:e})}const s=(0,u.KR)(!1);return n({open:r}),(e,n)=>{const u=(0,a.g2)("v-card-title"),i=(0,a.g2)("v-card-text"),r=(0,a.g2)("v-btn"),d=(0,a.g2)("v-card-actions"),v=(0,a.g2)("v-card"),f=(0,a.g2)("v-dialog");return(0,a.uX)(),(0,a.Wv)(f,{class:"w-50",modelValue:s.value,"onUpdate:modelValue":n[2]||(n[2]=e=>s.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(t.value),1)])),_:1}),(0,a.bF)(i,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(l.value),1)])),_:1}),(0,a.bF)(d,{class:"d-flex flex-row justify-space-between"},{default:(0,a.k6)((()=>[(0,a.bF)(r,{onClick:n[0]||(n[0]=e=>c(!0))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("general.yes")),1)])),_:1}),(0,a.bF)(r,{onClick:n[1]||(n[1]=e=>c(!1))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("general.no")),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});const r=i;var c=r;const s="http://localhost:4017/v3/notes";var d=t(4373);async function v(){const e=await d.A.get(s);return 200!==e.status?null:e.data}async function f(e){const n=await d.A.post(s,e);return 201!==n.status?null:n.data}async function g(e){const n=await d.A.put(s+"/"+e.id,e);return 200!==n.status?null:n.data}async function m(e){const n=await d.A.delete(s+"/"+e);return 200===n.status}const p={class:"d-flex flex-row justify-space-between"},b={class:"d-flex flex-row"},k=["contenteditable"];var _=(0,a.pM)({__name:"NoteElement",props:{note:{}},setup(e){const n=e,t=(0,u.KR)(null),l=(0,u.KR)(null),i=(0,u.KR)(!1),r=(0,u.KR)("");async function s(){if(null===t.value)return;const e=await t.value.open("Note löschen","Wollen Sie die Note löschen?");e.accept&&m(n.note.id)}function d(){setTimeout((()=>{null!==l.value&&(r.value=l.value.innerText)}))}function v(){null!==l.value&&(r.value=l.value.innerText,i.value=!0)}function f(){null!==l.value&&(l.value.innerText=n.note.text,i.value=!1)}function _(){if(null===l.value)return;const e={...n.note};e.text=l.value.innerText,g(e),f()}function y(){null!==l.value&&(l.value.innerText=n.note.text)}const h=(0,a.EW)((()=>null!==l.value&&n.note.text!==r.value));return(e,u)=>{const r=(0,a.g2)("v-list-item-title"),g=(0,a.g2)("v-icon"),m=(0,a.g2)("v-list-item");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(m,{class:"mb-2"},{default:(0,a.k6)((()=>[(0,a.bF)(r,null,{default:(0,a.k6)((()=>[(0,a.eW)("Anaonym "+(0,o.v_)(e.$d(n.note.timestamp,"long")),1)])),_:1}),(0,a.Lk)("div",p,[(0,a.Lk)("div",null,(0,o.v_)(n.note.id),1),(0,a.Lk)("div",b,[i.value?((0,a.uX)(),(0,a.Wv)(g,{key:0,icon:"mdi-check-bold",onClick:_})):(0,a.Q3)("",!0),i.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.Wv)(g,{key:1,icon:"mdi-pencil",onClick:v})),i.value&&!h.value?((0,a.uX)(),(0,a.Wv)(g,{key:2,icon:"mdi-close",onClick:f})):i.value&&h.value?((0,a.uX)(),(0,a.Wv)(g,{key:3,icon:"mdi-reload",onClick:y})):((0,a.uX)(),(0,a.Wv)(g,{key:4,icon:"mdi-close",onClick:s}))])]),(0,a.Lk)("div",{ref_key:"editRef",ref:l,contenteditable:i.value,onKeydown:d},(0,o.v_)(n.note.text),41,k),(0,a.Lk)("div",null,(0,o.v_)(),1)])),_:1}),(0,a.bF)(c,{ref_key:"confirmDialog",ref:t},null,512)],64)}}}),y=t(1241);const h=(0,y.A)(_,[["__scopeId","data-v-16503f1b"]]);var F=h,w=t(5835),x=t(657);const W=(0,x.nY)("mainStore",{state:()=>({theme:"light"}),getters:{getTheme:e=>e.theme},persist:{storage:localStorage}});function R(e,n){return"a"===e&&"a"===n?{id:1,username:"asd"}:null}const C={key:0};var K=(0,a.pM)({__name:"LoginDialog",setup(e,{expose:n}){const t=(0,u.KR)(""),l=(0,u.KR)(""),i=(0,u.KR)(!1),r=(0,u.KR)(),c=W();async function s(){return f.value=!0,await new Promise(((e,n)=>{r.value=e}))}function d(e){f.value=!1,void 0!==r.value&&r.value({accept:e})}async function v(){const e=R(t.value,l.value);null!==e?(c.user=e,d(!0)):i.value=!0}const f=(0,u.KR)(!1),g=(0,a.EW)((()=>""!==t.value&&""!==l.value));return n({open:s}),(e,n)=>{const u=(0,a.g2)("v-card-title"),r=(0,a.g2)("v-text-field"),c=(0,a.g2)("v-card-text"),s=(0,a.g2)("v-btn"),m=(0,a.g2)("v-card-actions"),p=(0,a.g2)("v-card"),b=(0,a.g2)("v-dialog");return(0,a.uX)(),(0,a.Wv)(b,{class:"w-50",modelValue:f.value,"onUpdate:modelValue":n[3]||(n[3]=e=>f.value=e),persistent:""},{default:(0,a.k6)((()=>[(0,a.bF)(p,null,{default:(0,a.k6)((()=>[(0,a.bF)(u,null,{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("loginDialog.login")),1)])),_:1}),(0,a.bF)(c,null,{default:(0,a.k6)((()=>[i.value?((0,a.uX)(),(0,a.CE)("p",C,(0,o.v_)(e.$t("loginDialog.errorMessage")),1)):(0,a.Q3)("",!0),(0,a.bF)(r,{type:"username",modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=e=>t.value=e),placeholder:e.$t("loginDialog.username")},null,8,["modelValue","placeholder"]),(0,a.bF)(r,{type:"password",modelValue:l.value,"onUpdate:modelValue":n[1]||(n[1]=e=>l.value=e),placeholder:e.$t("loginDialog.password")},null,8,["modelValue","placeholder"])])),_:1}),(0,a.bF)(m,{class:"d-flex flex-row justify-space-between"},{default:(0,a.k6)((()=>[(0,a.bF)(s,{onClick:n[2]||(n[2]=e=>d(!1))},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("general.abort")),1)])),_:1}),(0,a.bF)(s,{onClick:v,disabled:!g.value},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("loginDialog.login")),1)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});const V=K;var X=V;const j={class:"w-75"};var O=(0,a.pM)({__name:"App",setup(e){const n=(0,u.KR)([]),t=(0,u.KR)(""),l=(0,u.KR)(!1),i=W(),r=(0,u.KR)(null);async function c(){l.value=!0;await f({text:t.value});t.value="",setTimeout((()=>{l.value=!1}),1e3)}function s(){i.theme="dark"===i.theme?"light":"dark"}async function d(){null!==r.value&&r.value.open()}(0,a.sV)((async()=>{const e=(0,w.io)("ws://localhost:8086/notes");e.on("addNote",(e=>{n.value.push(e)})),e.on("removeNote",(e=>{n.value=n.value.filter((n=>n.id!==e))})),e.on("editNote",(e=>{const t=n.value.find((n=>n.id===e.id));void 0!==t&&(t.text=e.text,t.timestamp=e.timestamp)}));const t=await v();null!==t&&(n.value=t)}));const g=(0,a.EW)((()=>""!==t.value)),m=(0,a.EW)((()=>{const e=n.value.slice().reverse();return e}));return(e,n)=>{const v=(0,a.g2)("v-app-bar-title"),f=(0,a.g2)("v-btn"),p=(0,a.g2)("v-icon"),b=(0,a.g2)("v-list-item"),k=(0,a.g2)("v-list"),_=(0,a.g2)("v-menu"),y=(0,a.g2)("v-app-bar"),h=(0,a.g2)("v-card-title"),w=(0,a.g2)("v-textarea"),x=(0,a.g2)("v-card-text"),W=(0,a.g2)("v-card-actions"),R=(0,a.g2)("v-card"),C=(0,a.g2)("v-layout"),K=(0,a.g2)("v-container"),V=(0,a.g2)("v-main"),O=(0,a.g2)("v-app");return(0,a.uX)(),(0,a.CE)(a.FK,null,[(0,a.bF)(O,{theme:(0,u.R1)(i).theme},{default:(0,a.k6)((()=>[(0,a.bF)(y,{elevation:2},{append:(0,a.k6)((()=>[(0,a.bF)(f,{icon:"mdi-theme-light-dark",onClick:s}),(0,a.bF)(f,{icon:"mdi-account"},{default:(0,a.k6)((()=>[(0,a.bF)(p,{icon:"mdi-account"}),(0,a.bF)(_,{activator:"parent"},{default:(0,a.k6)((()=>[(0,a.bF)(k,null,{default:(0,a.k6)((()=>[void 0===(0,u.R1)(i).user?((0,a.uX)(),(0,a.Wv)(b,{key:0,onClick:d},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("general.login")),1)])),_:1})):((0,a.uX)(),(0,a.Wv)(b,{key:1,onClick:n[0]||(n[0]=e=>(0,u.R1)(i).user=void 0)},{default:(0,a.k6)((()=>[(0,a.eW)((0,o.v_)(e.$t("general.logout")),1)])),_:1}))])),_:1})])),_:1})])),_:1})])),default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>n[3]||(n[3]=[(0,a.eW)("Application Bar")]))),_:1})])),_:1}),(0,a.bF)(V,null,{default:(0,a.k6)((()=>[(0,a.bF)(K,null,{default:(0,a.k6)((()=>[(0,a.bF)(C,{row:"",wrap:"","align-center":"",class:"justify-center"},{default:(0,a.k6)((()=>[(0,a.Lk)("div",j,[(0,a.bF)(R,{justify:"center",class:"mb-3"},{default:(0,a.k6)((()=>[(0,a.bF)(h,{class:"text-left"},{default:(0,a.k6)((()=>n[4]||(n[4]=[(0,a.eW)("Note erstellen")]))),_:1}),(0,a.bF)(x,null,{default:(0,a.k6)((()=>[(0,a.bF)(w,{modelValue:t.value,"onUpdate:modelValue":n[1]||(n[1]=e=>t.value=e)},null,8,["modelValue"])])),_:1}),(0,a.bF)(W,null,{default:(0,a.k6)((()=>[(0,a.bF)(f,{onClick:n[2]||(n[2]=e=>t.value=""),disabled:!g.value},{default:(0,a.k6)((()=>n[5]||(n[5]=[(0,a.eW)("Reset")]))),_:1},8,["disabled"]),(0,a.bF)(f,{onClick:c,disabled:!g.value,loading:l.value},{default:(0,a.k6)((()=>n[6]||(n[6]=[(0,a.eW)("Senden")]))),_:1},8,["disabled","loading"])])),_:1})])),_:1}),(0,a.bF)(k,null,{default:(0,a.k6)((()=>[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(m.value,(e=>((0,a.uX)(),(0,a.Wv)(F,{note:e,key:e.id,class:"element"},null,8,["note"])))),128))])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1},8,["theme"]),(0,a.bF)(X,{ref_key:"loginDialog",ref:r},null,512)],64)}}});const A=O;var E=A,T=t(1920),$=t(5741),D=(t(5524),t(7768)),N=e=>{const n=(0,D.$N)({directives:$,components:T});e.use(n)},L=t(5931),S=t(5827),M={general:{yes:"Ja",no:"Nein",abort:"Abbrechen"},loginDialog:{login:"Anmelden",username:"Benutzername",password:"Passwort"}},P={general:{yes:"Yes",no:"No",abort:"Abort"},loginDialog:{login:"Login",username:"Username",password:"Password"}};const U=(0,l.Ef)(E),Q=(0,x.Ey)();Q.use(S.A);const B=(0,L.hU)({locale:"de",fallbackLocale:"de",messages:{de:M,en:P},datetimeFormats:{en:{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}},de:{short:{year:"numeric",month:"numeric",day:"numeric"},long:{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}}}});N(U),U.use(B),U.use(Q),U.mount("#app")}},n={};function t(l){var a=n[l];if(void 0!==a)return a.exports;var u=n[l]={exports:{}};return e[l].call(u.exports,u,u.exports,t),u.exports}t.m=e,function(){var e=[];t.O=function(n,l,a,u){if(!l){var o=1/0;for(s=0;s<e.length;s++){l=e[s][0],a=e[s][1],u=e[s][2];for(var i=!0,r=0;r<l.length;r++)(!1&u||o>=u)&&Object.keys(t.O).every((function(e){return t.O[e](l[r])}))?l.splice(r--,1):(i=!1,u<o&&(o=u));if(i){e.splice(s--,1);var c=a();void 0!==c&&(n=c)}}return n}u=u||0;for(var s=e.length;s>0&&e[s-1][2]>u;s--)e[s]=e[s-1];e[s]=[l,a,u]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var l in n)t.o(n,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:n[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,l){var a,u,o=l[0],i=l[1],r=l[2],c=0;if(o.some((function(n){return 0!==e[n]}))){for(a in i)t.o(i,a)&&(t.m[a]=i[a]);if(r)var s=r(t)}for(n&&n(l);c<o.length;c++)u=o[c],t.o(e,u)&&e[u]&&e[u][0](),e[u]=0;return t.O(s)},l=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];l.forEach(n.bind(null,0)),l.push=n.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(3639)}));l=t.O(l)})();
//# sourceMappingURL=app.1ccc8e8d.js.map